<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hk.notice">

	<select id="ngetAlllist" resultType="NoticeDto">
	 	SELECT N_SEQ, N_TITLE, N_REGDATE,N_COUNT
	 	FROM NOTICE ORDER BY N_SEQ DESC
	</select>
	
	<insert id="ninsertboard" parameterType="NoticeDto">
		INSERT INTO NOTICE (N_SEQ, M_SEQ, N_TITLE, N_CONTS, N_REGDATE, N_COUNT)
		VALUES
		(NOTICE_SEQ.NEXTVAL,#{m_seq},#{n_title},#{n_conts},SYSDATE,0)
	</insert>
	
	<select id="ngetboard" parameterType="int" resultType="NoticeDto" >
		SELECT N_SEQ, M_SEQ, N_TITLE, N_CONTS, N_REGDATE, N_COUNT
		FROM NOTICE WHERE N_SEQ=#{n_seq}
	</select>
	
	<update id="readcount" parameterType="int" >
		UPDATE NOTICE SET N_COUNT=N_COUNT+1
		WHERE N_SEQ=#{n_seq}
	</update>
	
	<update id="nupdateboard" parameterType="int" >
		UPDATE NOTICE SET TITLE=#{title}, N_CONTS=#{conts}, REGDATE=SYSDATE
		WHERE SEQ=#{seq}
	</update>
	
	<delete id="ndelboard" parameterType="int">
		DELETE FROM NOTICE WHERE SEQ=#{seq}
	</delete>
	
	<select id="qgetAlllist" resultType="QaDto">
		SELECT *
		FROM QA ORDER BY SYSDATE DESC
	</select>
	
	<insert id="qinsertboard" parameterType="QaDto">
		INSERT INTO QA (Q_SEQ, M_SEQ, Q_TITLE, Q_CONTS, Q_REGDATE, Q_FLAG)
		VALUES
		(QA_SEQ.NEXTVAL,#{m_seq},#{q_title},#{q_conts},SYSDATE,#{q_flag})		
	</insert>
	
	<select id="qgetboard" parameterType="int" resultType="QaDto">
		SELECT Q_SEQ, M_SEQ, Q_TITLE, Q_CONTS, Q_REGDATE, Q_FLAG
		FROM QA WHERE SEQ=#{q_seq}
	</select>
	
	<update id="qupdateboard" parameterType="QaDto">
		UPDATE QA SET TITLE=#{title}, Q_CONTS=#{conts}, REGDATE=SYSDATE
		WHERE SEQ=#{seq}
	</update>
	
	<delete id="qdelboard" parameterType="int">
		DELETE FROM QA WHERE SEQ=#{seq}
	</delete>
	
	
	

</mapper>